<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Yandex Map with Admin Panel - Admin Panel</title>
    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
    <!-- My styles -->
    <link rel="stylesheet" href="assets/css/main.min.css">
</head>
<body>
    <div class="results"></div>
    <div class="results2"></div>
    <h1>Редактирование гродов</h1>
    <label for="">Удалить город с id</label>
    <div class="select-delite-city">
        <select>
            <option value="">Москва</option>
        </select>
    </div>
    <button class="delite-city">Удалить</button>
    <!--  -->
    <h1>Добавление города</h1>
    <div class="add-city-container">
        <input type="text" name="name-of-city" placeholder="Название города"><br>
        <input type="text" name="x" placeholder="x"><br>
        <input type="text" name="y" placeholder="y"><br>
        <input type="text" name="zoom" placeholder="zoom"><br>
        <button class="add-city">Добавить город</button>
    </div>
    <!--  -->
    <script type="text/javascript">
    $(document).ready(function() {
        $.ajax({
            url: 'map.php?action=sample1',
            success: function(data) {
                $('.results').html(data);
            }
        });
        $.ajax({
            url: 'map.php?action=sample2',
            success: function(data) {
                $('.results2').html(data);
            }
        });
        $.ajax({
            url: 'map.php?action=sample3',
            success: function(data) {
                $('.select-delite-city').html(data);
            }
        });
        $(document).on('click', '.delite-city', function(event) {
            event.preventDefault();
            var currentSelectDeliteCity = $('.select-delite-city select :selected').attr('value');
            //alert(currentSelectDeliteCity)
            $.ajax({
                url: 'map.php?action=sample4&currentSelectDeliteCity='+currentSelectDeliteCity+'',
                success: function(data) {
                    //$('.select-delite-city').html(data);
                    setTimeout(window.location.reload(), 5000)
                }
            });
        });
        $(document).on('click', '.add-city', function(event) {
            event.preventDefault();
            var name = $('.add-city-container input[name="name-of-city"]').val();
            var x = $('.add-city-container input[name="x"]').val();
            var y = $('.add-city-container input[name="y"]').val();
            var zoom = $('.add-city-container input[name="zoom"]').val();
            $.ajax({
                url: 'map.php?action=sample5&nameCity='+name+'&x='+x+'&y='+y+'&zoom='+zoom+'',
                success: function(data) {
                    //$('.select-delite-city').html(data);
                    setTimeout(window.location.reload(), 5000)
                }
            });
        });
    });
    </script>
</body>
</html>
